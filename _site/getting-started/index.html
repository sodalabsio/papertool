<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Getting Started | PaperTool</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Getting Started" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="…" /> <meta property="og:description" content="…" /> <link rel="canonical" href="http://localhost:4000/getting-started/" /> <meta property="og:url" content="http://localhost:4000/getting-started/" /> <meta property="og:site_name" content="PaperTool" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Getting Started" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"…","headline":"Getting Started","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/sodalabsio/papertool/main/assets/images/papertool-logo.png"}},"url":"http://localhost:4000/getting-started/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="PaperTool"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/getting-started/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="/faq/" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PaperTool" aria-label="Search PaperTool" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://www.monash.edu/business/research/our-research/soda-labs" class="site-button" > Powered by Monash SoDa Labs </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="getting-started"> <a href="#getting-started" class="anchor-heading" aria-labelledby="getting-started"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting started </h1> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li> <li><a href="#a-note-on-security" id="markdown-toc-a-note-on-security">A note on security</a></li> <li><a href="#folder-structure" id="markdown-toc-folder-structure">Folder structure</a></li> <li><a href="#setting-up" id="markdown-toc-setting-up">Setting up</a></li> </ol> </details><hr /> <h2 class="d-inline-block" id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h2> <!-- **Important** {: .label .label-yellow } --> <p>The following guide assumes that the user/maintainer has a basic understanding of <a href="https://aws.amazon.com/console/">AWS</a> (particularly <a href="https://s3.console.aws.amazon.com/">S3</a> buckets), <strong>Python</strong> and some basic <strong>HTML</strong>. However, do not worry in case you have never used them before, we will guide you through and illustrate below where and how each component comes into play.</p> <p>To download papertool on your local machine, run:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/sodalabsio/papertool.git
</code></pre></div></div> <p>Alternatively, you could also fork the repository to your personal github account and work from there.</p> <p>Before starting with PaperTool, you will need valid three-letter RePEc Archive code (aaa) and a six-letter Series code (ssssss) associated with your working paper series. Please check out the <a href="https://ideas.repec.org/stepbystep.html">RePEc step-by-step</a> for the same.</p> <p>You should also have created a <strong>cover.png</strong> file to serve as your working paper series cover page template. PaperTool will automatically add the working paper meta-data to this template, using the middle portion of the page. It is essential that the template is of the same dimensions as the one provided in the <code class="language-plaintext highlighter-rouge">s3_buckets/working_papers_bucket/template/cover.png</code> file (i.e. 2487 x 3516 px). Review the existing <code class="language-plaintext highlighter-rouge">cover.png</code> file to understand the layout. The section in the middle is where the working paper meta-data will be added. When you are happy with your cover page template, replace the existing <code class="language-plaintext highlighter-rouge">aws_resources/s3_buckets/working_papers_bucket/cover.png</code> file with your own.</p> <h2 id="a-note-on-security"> <a href="#a-note-on-security" class="anchor-heading" aria-labelledby="a-note-on-security"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> A note on security </h2> <p>By default PaperTool runs from <strong>public buckets</strong> on your S3. RePEc requires your archive bucket to have public read access (<code class="language-plaintext highlighter-rouge">s3:GetObject</code>) since this bucket is allowing RePEc to index your papers, and to point the world to your working paper files for download. However, in the initial installation, the archive bucket also allows write access publicly (<code class="language-plaintext highlighter-rouge">s3:PutObject</code>), since we need to allow the PaperTool functions to write new index files and pdfs to this folder. However, this also allows <strong>anyone on the internet</strong> to write to this bucket. By default, permissions for the site bucket are the same, read/write access is <strong>public</strong>. As such, we <strong>strongly recommend</strong> you edit the bucket policy for each bucket to reduce this risk surface.</p> <p>Now, there are a variety of ways that you may want to limit access on your PaperTool buckets, and so we leave this to your own AWS security policies and risk appetite. One example approach is to allow public read access for both buckets (since RePEc needs it for the archive, and your users will need to access the upload site), but restrict write access to the archive only to an AWS role associated with the Lambda function. You can also ensure that not just anyone can use the PaperTool upload site by adding IP address restrictions to the API Gateway. In this scenario your users will need to be on a specific network to successfully use PaperTool, but this could include a university VPN so that they can still upload from home. For more information please refer to the <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies.html">AWS documentation</a>.</p> <h2 id="folder-structure"> <a href="#folder-structure" class="anchor-heading" aria-labelledby="folder-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Folder structure </h2> <p>Once you have papertool on your machine, you will see the following main folders/files:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./papertool
├── aws_resources
|   ├── cloudformation_templates
|   |   ├── CreateLambdaAPI.yaml
|   |   └── CreateS3Buckets.yaml
|   └── s3_buckets
|       ├── code_bucket
|       ├── site_bucket
|       └── working_papers_bucket
...
</code></pre></div></div> <h2 id="setting-up"> <a href="#setting-up" class="anchor-heading" aria-labelledby="setting-up"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up </h2> <ol> <li><a href="https://aws.amazon.com/console/">Log in</a> or create your AWS account</li> <li>Once you have access to the AWS Console, launch the <a href="https://console.aws.amazon.com/cloudformation">CloudFormation</a> service. Then: <ul> <li><strong>Step 1: Create stack</strong> <ul> <li>Click on the <code class="language-plaintext highlighter-rouge">Create Stack</code> <ul> <li>Choose <code class="language-plaintext highlighter-rouge">With new resources (standard)</code> if you are using the CloudFormation &gt; Stacks menu</li> </ul> </li> <li>Under <code class="language-plaintext highlighter-rouge">Prerequisite - Prepare template</code> select <code class="language-plaintext highlighter-rouge">Choose an existing template</code></li> <li>Under <code class="language-plaintext highlighter-rouge">Specify template</code> select <code class="language-plaintext highlighter-rouge">Upload a template file</code> and upload <code class="language-plaintext highlighter-rouge">CreateS3Buckets.yaml</code> file. <img src="https://raw.githubusercontent.com/sodalabsio/papertool/main/assets/images/cloudformation2.png" /> <!-- <img src="/assets/images/cloudformation2.png"> --></li> <li>Click <code class="language-plaintext highlighter-rouge">Next</code></li> </ul> </li> <li><strong>Step 2: Specify stack details</strong> <ul> <li>Under <code class="language-plaintext highlighter-rouge">Provide a stack name</code> enter the name of the stack (any name of your choosing) (e.g. <code class="language-plaintext highlighter-rouge">PaperTool</code>)</li> <li>Under <code class="language-plaintext highlighter-rouge">Parameters</code> please enter your working paper series details (such as RePEc codes for the series and archive). <strong>Important:</strong> Please assign the name of this bucket as per your lab/department name. E.g. If you set the bucket name as <code class="language-plaintext highlighter-rouge">econdept</code>, it will create a site under <code class="language-plaintext highlighter-rouge">http://econdept.s3-website-ap-southeast-2.amazonaws.com/</code> (for the <code class="language-plaintext highlighter-rouge">ap-southeast-2</code> region, your region may differ).</li> <li>Click <code class="language-plaintext highlighter-rouge">Next</code></li> </ul> </li> <li><strong>Step 3: Configure stack options</strong> <ul> <li>Add Tags, and Permissions if required</li> <li>Under <code class="language-plaintext highlighter-rouge">Stack failure options</code> select <code class="language-plaintext highlighter-rouge">Delete all newly created resources</code> (second section). This is to ensure that in case of any error, the resources are deleted automatically.</li> <li>Click <code class="language-plaintext highlighter-rouge">Next</code></li> </ul> </li> <li><strong>Step 4: Review and create</strong> <ul> <li>Review and finally click on <code class="language-plaintext highlighter-rouge">Submit</code></li> <li>Your Stacks list will show the newly created stack as <code class="language-plaintext highlighter-rouge">CREATE_IN_PROGRESS</code>. Wait until the <code class="language-plaintext highlighter-rouge">Status</code> shows <code class="language-plaintext highlighter-rouge">CREATE_COMPLETE</code> <!-- > Note: This creates a the neccesary S3 buckets to store your working papers and the code. --></li> </ul> </li> </ul> </li> <li> <p>Navigate to <a href="https://s3.console.aws.amazon.com/">S3</a> and into your <code class="language-plaintext highlighter-rouge">CodeBucket</code> (Note: You can also directly access the created buckets from <code class="language-plaintext highlighter-rouge">Resources</code> under the Stack. The name of the bucket will be the one you entered earlier along with the suffix <code class="language-plaintext highlighter-rouge">"-code"</code>)</p> </li> <li>Once you are inside the S3 <code class="language-plaintext highlighter-rouge">CodeBucket</code>, upload (or drag-and-drop) the contents from <code class="language-plaintext highlighter-rouge">s3_buckets/code_bucket/</code>. The files are: <ul> <li><code class="language-plaintext highlighter-rouge">layer.zip</code></li> <li><code class="language-plaintext highlighter-rouge">uploadWorkingPaper.zip</code></li> </ul> </li> <li>Now once again under <a href="https://console.aws.amazon.com/cloudformation">CloudFormation</a>, create a new stack by repeating all the process from above and uploading <code class="language-plaintext highlighter-rouge">CreateLambdaAPI.yaml</code> as the template this time. <ul> <li>Name the stack as you like, you might like to repeat the name from the previous stack, adding <code class="language-plaintext highlighter-rouge">-lambda</code> to the end</li> <li>Note: on <strong>Step 3: Configure stack options</strong>, at the very bottom, make sure to click on “I acknowledge that AWS CloudFormation might create IAM resources” before hitting <code class="language-plaintext highlighter-rouge">Create Stack</code></li> <li>Once again, wait until the <code class="language-plaintext highlighter-rouge">Status</code> shows <code class="language-plaintext highlighter-rouge">CREATE_COMPLETE</code> on your Stacks list</li> </ul> </li> <li>Editing site bucket: <ul> <li>Once again in CloudFormation, select the Lambda stack you just created (step 5), and navigate to the <code class="language-plaintext highlighter-rouge">Outputs</code> tab on the right hand side of the page. You may need to expand the size of your window to see this tab. <img src="https://raw.githubusercontent.com/sodalabsio/papertool/main/assets/images/cloudformation_outputs.png" /> <!-- <img src="/assets/images/cloudformation_outputs.png"> --></li> <li>You will see a table with 2 rows, each with a <code class="language-plaintext highlighter-rouge">Key</code> and <code class="language-plaintext highlighter-rouge">Value</code>. Keep this window handy.</li> <li>Now, in a text editor, open the file <code class="language-plaintext highlighter-rouge">s3_buckets/site_bucket/assets/js/settings.js</code> and enter in the information for your archive, and bucket names as indicated in the file.</li> </ul> <ul> <li>Be sure to replace <code class="language-plaintext highlighter-rouge">mydept-aaa-archive</code> in the <code class="language-plaintext highlighter-rouge">templateUrl</code> config with your <code class="language-plaintext highlighter-rouge">workingPapersBucket</code> name (entered above).</li> <li>For <code class="language-plaintext highlighter-rouge">apiEndpoint</code> and <code class="language-plaintext highlighter-rouge">identityPoolId</code>, copy the <code class="language-plaintext highlighter-rouge">Value</code> from the <code class="language-plaintext highlighter-rouge">Outputs</code> tab in CloudFormation and paste it into the respective fields in <code class="language-plaintext highlighter-rouge">settings.js</code>.</li> <li>Save the file - Now, over in S3, upload the contents of your local <code class="language-plaintext highlighter-rouge">s3_buckets/site_bucket/</code> to your aws S3 <code class="language-plaintext highlighter-rouge">SiteBucket</code></li> </ul> </li> <li>Editing working papers bucket: <ul> <li>Rename the <code class="language-plaintext highlighter-rouge">aaa</code> and <code class="language-plaintext highlighter-rouge">ssssss</code> folders to your <code class="language-plaintext highlighter-rouge">ArchiveCode</code> and <code class="language-plaintext highlighter-rouge">SeriesCode</code> respectively</li> <li>Replace “aaa” in both <code class="language-plaintext highlighter-rouge">aaaarch.rdf</code> and <code class="language-plaintext highlighter-rouge">aaaseri.rdf</code> with your <code class="language-plaintext highlighter-rouge">ArchiveCode</code></li> <li>Fill the rdf files with appropriate working paper information. <strong>Important:</strong> The <code class="language-plaintext highlighter-rouge">URL</code> in <code class="language-plaintext highlighter-rouge">aaaarch.rdf</code> should be the <code class="language-plaintext highlighter-rouge">RePEcArchiveURL</code> as it links your archive to RePEc</li> <li>Open <code class="language-plaintext highlighter-rouge">RePEc/aaa/index.html</code> and replace ssssss with your <code class="language-plaintext highlighter-rouge">SeriesCode</code> and the names of redif files</li> <li>Replace <code class="language-plaintext highlighter-rouge">s3_buckets/working_papers_bucket/template/cover.png</code> with your own template. <strong>Important:</strong> The template should be identical in dimensions (2487 x 3516 px) and layout.</li> <li>Finally copy the contents of <code class="language-plaintext highlighter-rouge">s3_buckets/working_papers_bucket/</code> to your actual S3 <code class="language-plaintext highlighter-rouge">WorkingPapersBucket</code></li> </ul> </li> <li>And that’s it! You can now start uploading working papers on your site by accessing your PaperTool website. The URL will be made from your siteBucket name, and your region, like this: <code class="language-plaintext highlighter-rouge">http://[siteBucket].s3-website-[region].amazonaws.com/</code>. For example, if your siteBucket is named <code class="language-plaintext highlighter-rouge">econdept</code> and you are in the <code class="language-plaintext highlighter-rouge">ap-southeast-2</code> region, your URL will be <code class="language-plaintext highlighter-rouge">http://econdept.s3-website-ap-southeast-2.amazonaws.com/</code> <img src="https://raw.githubusercontent.com/sodalabsio/papertool/main/assets/images/website.png" /></li> </ol> <p>Incase you have any questions please refer to our FAQ page.</p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
